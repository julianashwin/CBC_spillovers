fed.df <- merge(fed.df, fed.pca.quart.df, by = "quarter", all.x = TRUE)
rownames(fed.df) <- fed.df$meeting_id
### EZ
# Principal components of each meeting's topic attention variables
ecb.pca <- prcomp(ecb.df[,variablenames], center = TRUE, scale. = TRUE)
summary(ecb.pca)
ecb.pca.df <- as.data.frame(ecb.pca$x)
ecb.pca.df$meeting_id <- rownames(ecb.pca.df)
ecb.df <- merge(ecb.df, ecb.pca.df, by = "meeting_id")
rownames(ecb.df) <- ecb.df$meeting_id
# Aggregate the topic variables to quarterly
ecb.quartave <- aggregate(ecb.df[,c(variablenames)], list(ecb.df$quarter), mean)
colnames(ecb.quartave) <- c("quarter", paste0(variablenames, "q"))
rownames(ecb.quartave) <- ecb.quartave$quarter
# Calculate principal components of the monthly averages
ecb.pca.quart <- prcomp(ecb.quartave[,paste0(var_used, 1:topicnumber, "q")], center = TRUE, scale. = TRUE)
summary(ecb.pca.quart)
ecb.pca.quart.df <- as.data.frame(ecb.pca.quart$x)
colnames(ecb.pca.quart.df) <- paste0(colnames(ecb.pca.quart.df), "q")
ecb.pca.quart.df$quarter <- as.Date(rownames(ecb.pca.quart.df))
ecb.df <- merge(ecb.df, ecb.pca.quart.df, by = "quarter", all.x = TRUE)
rownames(ecb.df) <- ecb.df$meeting_id
### Reorder before analysing
bank.df <- bank.df[order(bank.df$meet_date),]
fed.df <- fed.df[order(fed.df$meet_date),]
ecb.df <- ecb.df[order(ecb.df$meet_date),]
### Plot the PCs
ggplot() +
scale_color_manual("", values = c("BoE PC1" = "black", "Fed PC1" = "blue3", "ECB PC1" = "darkgoldenrod2",
"BoE PC1q" = "black", "Fed PC1q" = "blue3", "ECB PC1q" = "darkgoldenrod2")) +
scale_linetype_manual("",values=c("BoE PC1" = 1, "Fed PC1" = 1, "ECB PC1" = 1,
"BoE PC1q" = 2, "Fed PC1q" = 2, "ECB PC1q" = 2)) +
geom_line(data = bank.df, aes(x = meet_date, y = PC1, color = "BoE PC1",linetype = "BoE PC1")) +
geom_line(data = fed.df, aes(x = meet_date, y = PC1, color = "Fed PC1", linetype = "Fed PC1")) +
geom_line(data = ecb.df, aes(x = meet_date, y = PC1, color = "ECB PC1", linetype = "ECB PC1")) +
geom_line(data = bank.df, aes(x = quarter, y = PC1q, color = "BoE PC1q",linetype = "BoE PC1q")) +
geom_line(data = fed.df, aes(x = quarter, y = -PC1q, color = "Fed PC1q",linetype = "Fed PC1q")) +
geom_line(data = ecb.df, aes(x = quarter, y = PC1q, color = "ECB PC1q",linetype = "ECB PC1q")) +
xlab('Date') +
ylab("First Principal Component")
#ggtitle("GDP growth")
ggsave(paste0(export_dir, "PCA/PC1_acrossbanks.png"))
### Are the principal components correlated
all.data <- merge(ecb.pca.quart.df, fed.pca.quart.df, by = "quarter")
all.data <- merge(all.data, bank.pca.quart.df, by = "quarter")
cor.test(all.data$PC1q, all.data$PC1q.x)
cor.test(all.data$PC1q, all.data$PC1q.y)
cor.test(all.data$PC1q.x, all.data$PC1q.y)
# A little experiment showing that uncorrelated autoregressive series might appear correlated
shock1 <- rnorm(500, 0,1)
shock2 <- rnorm(500, 0,1)
cor.test(shock1,shock2)
x <- rep(0,500)
y <- rep(0, 500)
for (i in 2:500){
x[i] <- 0.8*x[i-1] +shock1[i]
y[i] <- 0.8*y[i-1] +shock2[i]
}
cor.test(x,y)
############################# Compare PCs to macro series #############################
### BoE text and UK data
cor.test(bank.df$PC1, bank.df$inflation_monthly)
cor.test(bank.df$PC1, bank.df$inflation_quarterly)
cor.test(bank.df$PC1, bank.df$growth)
cor.test(bank.df$PC2, bank.df$inflation_monthly)
cor.test(bank.df$PC2, bank.df$inflation_quarterly)
cor.test(bank.df$PC2, bank.df$growth)
cor.test(bank.df$PC3, bank.df$inflation_monthly)
cor.test(bank.df$PC3, bank.df$inflation_quarterly)
cor.test(bank.df$PC3, bank.df$growth)
bank.lm.inflationm_1 <- lm(inflation_monthly ~ PC1, data = bank.df)
summary(bank.lm.inflationm_1)
bank.lm.inflationm_123 <- lm(inflation_monthly ~ PC1 + PC2 + PC3, data = bank.df)
summary(bank.lm.inflationm_123)
bank.lm.inflationq_1 <- lm(inflation_quarterly ~ PC1, data = bank.df)
summary(bank.lm.inflationq_1)
bank.lm.inflationq_123 <- lm(inflation_quarterly ~ PC1 + PC2 + PC3, data = bank.df)
summary(bank.lm.inflationq_123)
bank.lm.growth_1 <- lm(growth ~ PC1, data = bank.df)
summary(bank.lm.growth_1)
bank.lm.growth_123 <- lm(growth ~ PC1 + PC2 + PC3, data = bank.df)
summary(bank.lm.growth_123)
stargazer(bank.lm.inflationm_1, bank.lm.inflationm_123, bank.lm.inflationq_1, bank.lm.inflationq_123,
bank.lm.growth_1, bank.lm.growth_123, title = "BoE attention Principal Components and Macro variables",
df = FALSE)
### Fed text and US data
cor.test(fed.df$PC1, fed.df$inflation_monthly)
cor.test(fed.df$PC1, fed.df$inflation_quarterly)
cor.test(fed.df$PC1, fed.df$growth)
cor.test(fed.df$PC2, fed.df$inflation_monthly)
cor.test(fed.df$PC2, fed.df$inflation_quarterly)
cor.test(fed.df$PC2, fed.df$growth)
cor.test(fed.df$PC3, fed.df$inflation_monthly)
cor.test(fed.df$PC3, fed.df$inflation_quarterly)
cor.test(fed.df$PC3, fed.df$growth)
fed.lm.inflationm_1 <- lm(inflation_monthly ~ PC1, data = fed.df)
summary(fed.lm.inflationm_1)
fed.lm.inflationm_123 <- lm(inflation_monthly ~ PC1 + PC2, data = fed.df)
summary(fed.lm.inflationm_123)
fed.lm.inflationq_1 <- lm(inflation_quarterly ~ PC1, data = fed.df)
summary(fed.lm.inflationq_1)
fed.lm.inflationq_123 <- lm(inflation_quarterly ~ PC1 + PC2, data = fed.df)
summary(fed.lm.inflationq_123)
fed.lm.growth_1 <- lm(growth ~ PC1, data = fed.df)
summary(fed.lm.growth_1)
fed.lm.growth_123 <- lm(growth ~ PC1 + PC2, data = fed.df)
summary(fed.lm.growth_123)
stargazer(fed.lm.inflationm_1, fed.lm.inflationm_123, fed.lm.inflationq_1, fed.lm.inflationq_123,
fed.lm.growth_1, fed.lm.growth_123, title = "Frd attention Principal Components and Macro variables",
df = FALSE)
### ECB text and EZ data
cor.test(ecb.df$PC1, ecb.df$inflation_monthly)
cor.test(ecb.df$PC1, ecb.df$inflation_quarterly)
cor.test(ecb.df$PC1, ecb.df$growth)
cor.test(ecb.df$PC2, ecb.df$inflation_monthly)
cor.test(ecb.df$PC2, ecb.df$inflation_quarterly)
cor.test(ecb.df$PC2, ecb.df$growth)
cor.test(ecb.df$PC3, ecb.df$inflation_monthly)
cor.test(ecb.df$PC3, ecb.df$inflation_quarterly)
cor.test(ecb.df$PC3, ecb.df$growth)
ecb.lm.inflationm_1 <- lm(inflation_monthly ~ PC1, data = ecb.df)
summary(ecb.lm.inflationm_1)
ecb.lm.inflationm_123 <- lm(inflation_monthly ~ PC1 + PC2 + PC3, data = ecb.df)
summary(ecb.lm.inflationm_123)
ecb.lm.inflationq_1 <- lm(inflation_quarterly ~ PC1, data = ecb.df)
summary(ecb.lm.inflationq_1)
ecb.lm.inflationq_123 <- lm(inflation_quarterly ~ PC1 + PC2 + PC3, data = ecb.df)
summary(ecb.lm.inflationq_123)
ecb.lm.growth_1 <- lm(growth ~ PC1, data = ecb.df)
summary(ecb.lm.growth_1)
ecb.lm.growth_123 <- lm(growth ~ PC1 + PC2 + PC3, data = ecb.df)
summary(ecb.lm.growth_123)
stargazer(ecb.lm.inflationm_1, ecb.lm.inflationm_123, ecb.lm.inflationq_1, ecb.lm.inflationq_123,
ecb.lm.growth_1, ecb.lm.growth_123, title = "ECB attention Principal Components and Macro variables",
df = FALSE, table.placement = "H")
bank.info <- bank.df[,c("quarter", "month", "meeting_id", "central_bank", "growth", "inflation_quarterly",
"inflation_monthly", "policy_rate", "PC1", "PC1q")]
fed.info <- fed.df[,c("quarter", "month", "meeting_id", "central_bank", "growth", "inflation_quarterly",
"inflation_monthly", "policy_rate", "PC1", "PC1q")]
ecb.info <- ecb.df[,c("quarter", "month", "meeting_id", "central_bank", "growth", "inflation_quarterly",
"inflation_monthly", "policy_rate", "PC1", "PC1q")]
all.info <- rbind(bank.info, fed.info, ecb.info)
write.csv(all.info, file = paste0(clean_dir, "CBC/meeting_details.csv"),
fileEncoding = "utf-8", row.names = FALSE)
#all.info <- read.csv(paste0(clean_dir, "CBC/meeting_details.csv"), encoding = "utf-8", stringsAsFactors = FALSE)
setwd("~/Documents/GitHub/CBC_spillovers")
rm(list=ls())
require(tm)
require(stringr)
require(tidytext)
require(tidyr)
require(slam)
require(topicmodels)
require(ggplot2)
require(dplyr)
require(wordcloud)
require(lfe)
require(plm)
require(lubridate)
require(stargazer)
### Define the directories where raw data is stored and clean will be saved
clean_dir <- "~/Documents/DPhil/Clean_Data/"
raw_dir <- "~/Documents/DPhil/Raw_Data/"
export_dir <- "~/Documents/DPhil/central_bank_communication/figures/"
### Import the topic attention data
meeting.df <- read.csv(paste0(clean_dir, "CBC/meetingtopicprops.csv"), encoding = "utf-8", stringsAsFactors = FALSE)
meeting.df$pub_date <- as.Date(meeting.df$pub_date)
meeting.df$meet_date <- as.Date(meeting.df$meet_date)
### Identify potentially influential meetings
plus <- difftime(meeting.df$pub_date[1], meeting.df$meet_date[1], units = "days")
minus <- difftime(meeting.df$meet_date[1], meeting.df$pub_date[1], units = "days")
# Start with the first observation
meeting.df$influenced_by <- ""
for (i in 1:nrow(meeting.df)){
meeting_date <- meeting.df$meet_date[i]
influenced_by <- meeting.df[which((difftime(meeting_date, meeting.df$pub_date, units = "days") > 0) &
(difftime(meeting_date, meeting.df$pub_date, units = "days") < 62)), "meeting_id"]
meeting.df$influenced_by[i] <- paste0(paste(influenced_by, collapse = "; "), ";")
}
# Order by meeting date
meeting.df <- meeting.df[order(meeting.df$meet_date),]
var_used <- "y"
# Toggle the topic number (might need to adjust)
k <- 30
variablenames <- paste0(var_used, 1:k)
data_short <- meeting.df[,c("meeting_id", "central_bank", "pub_date", "meet_date",
"influenced_by", variablenames)]
data_short$meeting_id_str <- paste0(data_short$meeting_id, ";")
# convert to long from for topic-meeting combinations
command <- paste0("meeting_long <- gather(data_short, topic, var_value, ", var_used, "1:",
var_used, k, ", factor_key=TRUE)")
eval(parse(text=command))
#meeting_long <- gather(data_short, topic, var_value, y1:y30, factor_key=TRUE)
meeting_long <- meeting_long[order(meeting_long$meeting_id),]
meeting_long$fed_N <- NA
meeting_long$fed_preaverage <- NA
meeting_long$bank_N <- NA
meeting_long$bank_preaverage <- NA
meeting_long$ecb_N <- NA
meeting_long$ecb_preaverage <- NA
# A proxy date to allow the inclusion of lags
meeting_long$meeting_no <- as.numeric(str_sub(meeting_long$meeting_id, 3))
# Include quarter dummies to control for seasonality
meeting_long$quarters <- quarter(meeting_long$meet_date, with_year = FALSE, fiscal_start = 1)
meeting_long$central_bank <- as.factor(meeting_long$central_bank)
meeting_long$centralbank_topic <- paste(meeting_long$central_bank, meeting_long$topic, sep = "_")
meeting_long <- read.csv(paste0(clean_dir, "CBC/meetingtopicprops_panel.csv"), encoding = "utf-8", stringsAsFactors = FALSE)
meeting_long <- pdata.frame(meeting_long, index = c("centralbank_topic", "meeting_no"))
model <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage, data = meeting_long)
summary(model)
model1 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage | centralbank_topic, data = meeting_long)
summary(model1)
model2 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value)| centralbank_topic, data = meeting_long)
summary(model2)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:12)| centralbank_topic, data = meeting_long)
summary(model3)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:12)| quarters + centralbank_topic, data = meeting_long)
summary(model3)
all.info <- read.csv(paste0(clean_dir, "CBC/meeting_details.csv"), encoding = "utf-8", stringsAsFactors = FALSE)
all.info$ZLB <- as.numeric(all.info$policy_rate <= 0.5)
# The first few ECB meetings don't have a policy rate, but assume this wasn't at the ZLB
all.info[which(is.na(all.info$ZLB)),"ZLB"] <- 0
table(as.numeric(all.info$ZLB))
meeting_controls <- merge(meeting_long, all.info[,c("meeting_id", "quarter", "growth", "inflation_quarterly", "inflation_monthly",
"policy_rate","PC1", "PC1q")], by = c("meeting_id"))
meeting_controls <- pdata.frame(meeting_controls, index = c("centralbank_topic", "meeting_no"))
model <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  + inflation_monthly , data = meeting_controls)
summary(model)
model1 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage + inflation_monthly | centralbank_topic, data = meeting_controls)
summary(model1)
model2 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:2) + inflation_monthly + growth | centralbank_topic, data = meeting_controls)
summary(model2)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:5)+ inflation_monthly| centralbank_topic, data = meeting_controls)
summary(model3)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:12) + inflation_monthly + growth| quarters + centralbank_topic,
data = meeting_controls)
summary(model3)
model <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage , data = meeting_controls)
summary(model)
model1 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage | centralbank_topic, data = meeting_controls)
summary(model1)
model2 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage + plm::lag(var_value, 1:2)  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage  | centralbank_topic, data = meeting_controls)
summary(model2)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage +
plm::lag(var_value, 1:5) | centralbank_topic, data = meeting_controls)
summary(model3)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage +
plm::lag(var_value, 1:12) + inflation_monthly + growth| quarters + centralbank_topic,
data = meeting_controls)
summary(model3)
all.info <- read.csv(paste0(clean_dir, "CBC/meeting_details.csv"), encoding = "utf-8", stringsAsFactors = FALSE)
# Create a ZLB dummy
all.info$ZLB <- as.numeric(all.info$policy_rate <= 0.5)
# The first few ECB meetings don't have a policy rate, but assume this wasn't at the ZLB
all.info[which(is.na(all.info$ZLB)),"ZLB"] <- 0
table(as.numeric(all.info$ZLB))
meeting_controls <- merge(meeting_long, all.info[,c("meeting_id", "quarter", "growth", "inflation_quarterly", "inflation_monthly",
"policy_rate","PC1", "PC1q", "ZLB")], by = c("meeting_id"))
meeting_controls <- pdata.frame(meeting_controls, index = c("centralbank_topic", "meeting_no"))
model <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  + inflation_monthly , data = meeting_controls)
summary(model)
model1 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage + inflation_monthly | centralbank_topic, data = meeting_controls)
summary(model1)
model2 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:2) + inflation_monthly + growth | centralbank_topic, data = meeting_controls)
summary(model2)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:5)+ inflation_monthly| centralbank_topic, data = meeting_controls)
summary(model3)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:12) + inflation_monthly + growth| quarters + centralbank_topic,
data = meeting_controls)
summary(model3)
model <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage , data = meeting_controls)
summary(model)
model1 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage | centralbank_topic, data = meeting_controls)
summary(model1)
model2 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage + plm::lag(var_value, 1:2)  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage  | centralbank_topic, data = meeting_controls)
summary(model2)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage +
plm::lag(var_value, 1:5) | centralbank_topic, data = meeting_controls)
summary(model3)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage +
plm::lag(var_value, 1:12) + inflation_monthly + growth| quarters + centralbank_topic,
data = meeting_controls)
summary(model3)
bank.df <- all.info[which(all.info$central_bank == "Bank of England"),]
fed.df <- all.info[which(all.info$central_bank == "Federal Reserve"),]
ecb.df <- all.info[which(all.info$central_bank == "European Central Bank"),]
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
#geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
#geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
xlab('Date') +
ylab("Policy rate (percent, from BIS)")
all.info$month <- as.Date(all.info$month)
all.info$ZLB <- as.numeric(all.info$policy_rate <= 0.5)
# The first few ECB meetings don't have a policy rate, but assume this wasn't at the ZLB
all.info[which(is.na(all.info$ZLB)),"ZLB"] <- 0
table(as.numeric(all.info$ZLB))
meeting_controls <- merge(meeting_long, all.info[,c("meeting_id", "quarter", "growth", "inflation_quarterly", "inflation_monthly",
"policy_rate","PC1", "PC1q", "ZLB")], by = c("meeting_id"))
meeting_controls <- pdata.frame(meeting_controls, index = c("centralbank_topic", "meeting_no"))
model <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  + inflation_monthly , data = meeting_controls)
summary(model)
model1 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage + inflation_monthly | centralbank_topic, data = meeting_controls)
summary(model1)
model2 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:2) + inflation_monthly + growth | centralbank_topic, data = meeting_controls)
summary(model2)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:5)+ inflation_monthly| centralbank_topic, data = meeting_controls)
summary(model3)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
plm::lag(var_value, 1:12) + inflation_monthly + growth| quarters + centralbank_topic,
data = meeting_controls)
summary(model3)
### Control for the Zero Lower Bound
model <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage , data = meeting_controls)
summary(model)
model1 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage | centralbank_topic, data = meeting_controls)
summary(model1)
model2 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage + plm::lag(var_value, 1:2)  +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage  | centralbank_topic, data = meeting_controls)
summary(model2)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage +
plm::lag(var_value, 1:5) | centralbank_topic, data = meeting_controls)
summary(model3)
model3 <- felm(var_value ~ ecb_preaverage + fed_preaverage + bank_preaverage +
ZLB*ecb_preaverage + ZLB*fed_preaverage + ZLB*bank_preaverage +
plm::lag(var_value, 1:12) + inflation_monthly + growth| quarters + centralbank_topic,
data = meeting_controls)
summary(model3)
bank.df <- all.info[which(all.info$central_bank == "Bank of England"),]
fed.df <- all.info[which(all.info$central_bank == "Federal Reserve"),]
ecb.df <- all.info[which(all.info$central_bank == "European Central Bank"),]
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
#geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
#geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
xlab('Date') +
ylab("Policy rate (percent, from BIS)")
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
select(dummy, month) %>%
unique()
require(tidyverse)
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
select(dummy, month) %>%
unique()
dummy <- bank.df %>%
filter(ZLB == 1)
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month)))
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
select(ZLB, month) %>%
unique()
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
select(ZLB, month)
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month)))
View(dummy)
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
select(ZLB, month)
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
select(dummy, month)
df <- "date    dummy   yield   fx
1/1/1990    0   10.029  1.261184049
1/2/1990    0   10.036  1.261008068
1/3/1990    0   10.119  1.258932591
1/4/1990    0   10.02   1.261410528
1/5/1990    0   10.013  1.261586847
1/6/1990    1   10.066  1.260255526
1/7/1990    1   10.057  1.260481006
1/8/1990    1   10.057  1.260481006
1/9/1990    1   10.067  1.260230488
1/10/1990   1   10.186  1.257272051" %>%
read_table2() %>%
mutate(date2 = lubridate::mdy(date)) %>%
gather(key = measure, value = value, yield, fx)
head(df)
dummy <- df %>%
filter(dummy == 1) %>%
filter(date2 %in% c(min(date2), max(date2))) %>%
select(dummy, date2) %>%
unique()
?select
dummy <- df %>%
filter(dummy == 1) %>%
filter(date2 %in% c(min(date2), max(date2))) %>%
select(c(ZLB, date2)) %>%
unique()
dummy <- df %>%
filter(dummy == 1) %>%
filter(date2 %in% c(min(date2), max(date2))) %>%
unique()
ggplot(df, aes(x = date2, y = value, color = measure))
ggplot(df, aes(x = date2, y = value, color = measure)) +
annotate(geom = "rect", xmin = min(dummy$date2), xmax = max(dummy$date2), ymin = 0, ymax = Inf, fill = "gray", alpha = 0.4) +
geom_line() +
theme_light()
dummy <- bank.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
unique()
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
#geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
#geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
annotate(geom = "rect", xmin = min(dummy$month), xmax = max(dummy$month),
ymin = 0, ymax = Inf, fill = "gray", alpha = 0.4)
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
#geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
#geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
annotate(geom = "rect", xmin = min(dummy$month), xmax = max(dummy$month),
ymin = 0, ymax = Inf, fill = "gray", alpha = 0.4) +
xlab('Date') +
ylab("Policy rate (percent, from BIS)") + theme_light()
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
#geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
#geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
annotate(geom = "rect", xmin = min(dummy$month), xmax = max(dummy$month),
ymin = 0, ymax = Inf, fill = " light gray", alpha = 0.4) +
xlab('Date') +
ylab("Policy rate (percent, from BIS)") + theme_light()
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
#geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
#geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
annotate(geom = "rect", xmin = min(dummy$month), xmax = max(dummy$month),
ymin = 0, ymax = Inf, fill = "gray", alpha = 0.4) +
xlab('Date') +
ylab("Policy rate (percent, from BIS)") + theme_light()
#ggtitle("GDP growth")
ggsave(paste0(export_dir, "Macro_series/UK_policy_rate_ZLB.png"))
dummy <- fed.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
unique()
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
#geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
#geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
annotate(geom = "rect", xmin = min(dummy$month), xmax = max(dummy$month),
ymin = 0, ymax = Inf, fill = "gray", alpha = 0.4) +
xlab('Date') +
ylab("Policy rate (percent, from BIS)") + theme_light()
#ggtitle("GDP growth")
ggsave(paste0(export_dir, "Macro_series/US_policy_rate_ZLB.png"))
dummy <- ecb.df %>%
filter(ZLB == 1) %>%
filter(month %in% c(min(month), max(month))) %>%
unique()
ggplot() +
scale_color_manual("",
values = c("UK policy rate" = "black", "US policy rate" = "blue3", "EZ policy rate" = "darkgoldenrod2")) +
#geom_line(data = bank.df, aes(x = month, y = policy_rate, color = "UK policy rate")) +
#geom_line(data = fed.df, aes(x = month, y = policy_rate, color = "US policy rate")) +
geom_line(data = ecb.df, aes(x= month, y = policy_rate, color = "EZ policy rate")) +
annotate(geom = "rect", xmin = min(dummy$month), xmax = max(dummy$month),
ymin = 0, ymax = Inf, fill = "gray", alpha = 0.4) +
xlab('Date') +
ylab("Policy rate (percent, from BIS)") + theme_light()
ggsave(paste0(export_dir, "Macro_series/EZ_policy_rate_ZLB.png"))
