}
total.panel <- spread(total.panel, type, value)
total.panel <- select(total.panel, -topic)
total.panel <- total.panel %>%
group_by(quarter, series) %>%
summarise_all(funs(mean), na.rm = TRUE)
View(total.panel)
series <- c("CPI", "NGDP", "RGDP", "EMP", "UNEMP", "CPROF", "INDPROD", "HOUSING", "TBILL",
"RCONSUM", "RNRESIN", "RRESINV", "RFEDGOV", "RSLGOV")
### Keep only the topics which are matched to an SPF series
command <- paste0("total.panel <- select(total.df, quarter, ",
paste(paste0("starts_with(\"", series, "\")"), collapse = ", "), ")")
eval(parse(text=command))
### Gather into panel
total.panel <- gather(total.panel, topic, value, -quarter)
total.panel$series <- NA
for (s in series){
total.panel[which(str_detect(total.panel$topic, s)),"series"] <- s
}
total.panel$type <- NA
for (t in c("dispersion", "fed", "news")){
total.panel[which(str_detect(total.panel$topic, t)),"type"] <- t
}
total.panel <- spread(total.panel, type, value)
total.panel <- select(total.panel, -topic)
total.panel <- total.panel %>%
group_by(quarter, series) %>%
summarise_all(mean, na.rm = TRUE)
command <- paste0("total.panel <- select(total.df, quarter, ",
paste(paste0("starts_with(\"", series, "\")"), collapse = ", "), ")")
eval(parse(text=command))
### Gather into panel
total.panel <- gather(total.panel, topic, value, -quarter)
total.panel$series <- NA
for (s in series){
total.panel[which(str_detect(total.panel$topic, s)),"series"] <- s
}
total.panel$type <- NA
for (t in c("dispersion", "fed", "news")){
total.panel[which(str_detect(total.panel$topic, t)),"type"] <- t
}
### Spread back to get dispersion, fed and news measures for each series
total.panel <- spread(total.panel, type, value)
total.panel <- select(total.panel, -topic)
total.panel <- total.panel %>%
group_by(quarter, series) %>%
summarise_all(funs(mean), na.rm = TRUE)
total_means <- total.panel %>%
group_by(series) %>%
select(-quarter) %>%
summarise_all(funs(mean, sd), na.rm = TRUE)
total.panel <- merge(total.panel, total_means, by = "series")
total.panel$dispersion_std <- (total.panel$dispersion - total.panel$dispersion_mean)/total.panel$dispersion_sd
total.panel$fed_std <- (total.panel$fed - total.panel$fed_mean)/total.panel$fed_sd
total.panel$news_std <- (total.panel$news - total.panel$news_mean)/total.panel$news_sd
total.panel$quarter <- as.Date(total.panel$quarter)
total.panel$period <- as.numeric(as.factor(total.panel$quarter))
total.panel <- pdata.frame(data.frame(total.panel), index = c("series", "period"))
clean_filename = "data/topics_forecasts_panel.csv"
write.csv(total.panel, file = clean_filename, fileEncoding = "utf-8", row.names = FALSE)
test1 <- cor.test(total.df$NGDP_dispersion, total.df$CPI_topic_fed)
test1$estimate
test1 <- cor.test(total.df$CPI_topic_fed, total.df$NGDP_dispersion)
test1$estimate
cor.test(total.df$CPI_topic_news, total.df$NGDP_dispersion)
cor.test(total.df$NGDP_topic_fed, total.df$CPI_dispersion)
cor.test(total.df$NGDP_topic_news, total.df$CPI_dispersion)
cor.test(total.df$NGDP_topic_news, total.df$CPI_topic_news)
cor.test(total.df$CPROF_topic_fed, total.df$CPROF_dispersion)
cor.test(total.df$RCONSUM_topic_fed, total.df$RCONSUM_dispersion)
cor.test(total.df$HOUSING_topic_news, total.df$HOUSING_dispersion)
cor.test(total.df$INDPROD_topic_news, total.df$INDPROD_dispersion)
series <- as.character(unique(total.panel$series))
### Correlation matrix for Fed topics
fed.cor.matrix <- data.frame(matrix(NA, nrow = 3*length(series), ncol = (1+length(series))))
fed.cor.matrix.est <- matrix(NA, nrow = length(series), ncol = (length(series)))
fed.cor.matrix.pval <- matrix(NA, nrow = length(series), ncol = (length(series)))
split_rows <- paste(as.vector(paste(series, "x n", "x n x")))
split_rows <- paste(split_rows, collapse = "")
split_rows <- (str_split(split_rows, "x"))[[1]]
colnames(fed.cor.matrix) <- c("Series", series)
fed.cor.matrix$Series <- str_replace_all(split_rows[1:42], "n", "")
i <- 1
k <- 1
s <- series[1]
t <- series[1]
for (s in series){
# Dispersion series
disp_series <- total.panel[which(total.panel$series == s), "dispersion"]
j <- 2
for (t in series){
fed_series <- total.panel[which(total.panel$series == t), "fed"]
correlation <- cor.test(disp_series, fed_series)
est <- round(correlation$estimate, 3)
p_val <- round(correlation$p.value, 3)
fed.cor.matrix.est[k,(j-1)] <- est
fed.cor.matrix.pval[k,(j-1)] <- p_val
if (p_val <= 0.01){
stars <- "$^{***}$"
} else if (p_val <= 0.05){
stars <- "$^{**}$"
} else if (p_val <= 0.1){
stars <- "$^{*}$"
} else {
stars <- ""
}
entry <- paste0(est, stars)
p_val <- paste0("(", p_val, ")")
fed.cor.matrix[i,j] <- entry
fed.cor.matrix[i+1,j] <- p_val
print(paste(s,t, i, j, est))
j <- j + 1
}
i <- i + 3
k <- k + 1
}
stargazer(as.matrix(fed.cor.matrix), title = "SPF dispersion and FOMC topic correlation matrix")
N <- nrow(fed.cor.matrix.est)*nrow(fed.cor.matrix.est)
N_offdiag <- N - nrow(fed.cor.matrix.est)
N_diag <- nrow(fed.cor.matrix.est)
est_diag <- sum(diag(fed.cor.matrix.est))/N_diag
est_offdiag <- (sum(fed.cor.matrix.est) - sum(diag(fed.cor.matrix.est)))/N_offdiag
pval_diag <- sum(diag(fed.cor.matrix.pval))/N_diag
pval_offdiag <- (sum(fed.cor.matrix.pval) - sum(diag(fed.cor.matrix.pval)))/N_offdiag
### Correlation matrix for NYT topics
nyt.cor.matrix <- data.frame(matrix(NA, nrow = 3*length(series), ncol = (1+length(series))))
nyt.cor.matrix.est <- matrix(NA, nrow = length(series), ncol = (length(series)))
nyt.cor.matrix.pval <- matrix(NA, nrow = length(series), ncol = (length(series)))
split_rows <- paste(as.vector(paste(series, "x n", "x n x")))
split_rows <- paste(split_rows, collapse = "")
split_rows <- (str_split(split_rows, "x"))[[1]]
colnames(nyt.cor.matrix) <- c("Series", series)
nyt.cor.matrix$Series <- str_replace_all(split_rows[1:42], "n", "")
i <- 1
k <- 1
s <- series[1]
t <- series[1]
for (s in series){
#
disp_series <- total.panel[which(total.panel$series == s), "dispersion"]
j <- 2
for (t in series){
nyt_series <- total.panel[which(total.panel$series == t), "news"]
correlation <- cor.test(disp_series, nyt_series)
est <- round(correlation$estimate, 3)
p_val <- round(correlation$p.value, 3)
nyt.cor.matrix.est[k,(j-1)] <- est
nyt.cor.matrix.pval[k,(j-1)] <- p_val
if (p_val <= 0.01){
stars <- "$^{***}$"
} else if (p_val <= 0.05){
stars <- "$^{**}$"
} else if (p_val <= 0.1){
stars <- "$^{*}$"
} else {
stars <- ""
}
entry <- paste0(est, stars)
p_val <- paste0("(", p_val, ")")
nyt.cor.matrix[i,j] <- entry
nyt.cor.matrix[i+1,j] <- p_val
print(paste(s,t, i, j, est))
j <- j + 1
}
i <- i + 3
k <- k + 1
}
stargazer(as.matrix(nyt.cor.matrix), title = "SPF dispersion and NYT topic correlation matrix")
N <- nrow(nyt.cor.matrix.est)*nrow(nyt.cor.matrix.est)
N_offdiag <- N - nrow(nyt.cor.matrix.est)
N_diag <- nrow(nyt.cor.matrix.est)
est_diag <- sum(diag(nyt.cor.matrix.est))/N_diag
est_offdiag <- (sum(nyt.cor.matrix.est) - sum(diag(nyt.cor.matrix.est)))/N_offdiag
pval_diag <- sum(diag(nyt.cor.matrix.pval))/N_diag
pval_offdiag <- (sum(nyt.cor.matrix.pval) - sum(diag(nyt.cor.matrix.pval)))/N_offdiag
0.98^5
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model2_std <- felm(dispersion_std ~ plm::lag(fed_std, -1:1) + plm::lag(news_std, -1:1) + plm::lag(dispersion_std, 1:3) | series + period, data = total.panel)
summary(model2_std)
# SPF dispersion as depepndent variable
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model <- felm(dispersion ~ plm::lag(fed, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1) | series, data = total.panel)
summary(model)
model2 <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1:3) | series + quarter, data = total.panel)
summary(model2)
model2 <- felm(dispersion ~ plm::lag(fed, -1:1) + plm::lag(news, -1:1) + plm::lag(dispersion, 1:3) | series + period, data = total.panel)
summary(model2)
model2_std <- felm(dispersion_std ~ plm::lag(fed_std, -1:1) + plm::lag(news_std, -1:1) + plm::lag(dispersion_std, 1:3) | series + period, data = total.panel)
summary(model2_std)
# Fed topics as dependent variable
model3 <- felm(fed ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model3)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model3_std)
model <- felm(fed ~ plm::lag(dispersion, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(fed ~ plm::lag(dispersion, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(fed ~ plm::lag(dispersion, 0:1) + plm::lag(news, 0:1) + plm::lag(fed, 1) | series, data = total.panel)
summary(model)
model4 <- felm(fed ~ plm::lag(dispersion, -1:1)  + plm::lag(fed, 1:3) | series + quarter, data = total.panel)
summary(model4)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, -1:1) + plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
# NYT articles as dependent variable
model5 <- felm(news ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model5)
model5_std <- felm(news_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model5_std)
model <- felm(news ~ plm::lag(dispersion, -1:1) + plm::lag(fed, -1:1) | series, data = total.panel)
summary(model)
model <- felm(news ~ plm::lag(dispersion, 0:1) + plm::lag(fed, 0:1) | series, data = total.panel)
summary(model)
model <- felm(news ~ plm::lag(dispersion, 0:1) + plm::lag(fed, 0:1) + plm::lag(news, 1) | series, data = total.panel)
summary(model)
model6 <- felm(news ~ plm::lag(dispersion, -1:1) + plm::lag(news, 1:3) | series + quarter, data = total.panel)
summary(model6)
model6_std <- felm(news_std ~ plm::lag(dispersion_std, -1:1) + plm::lag(news_std, 1:3) | series + quarter, data = total.panel)
summary(model6_std)
# Table
stargazer(model1, model2, model3, model4, model5, model6,
table.placement = "H", df = FALSE,
title = "FOMC minutes, NYT articles and SPF forecast dispersion (unstandardised data)",
label = "tab:topic_spf_results_unstand")
stargazer(model1_std, model2_std, model3_std, model4_std, model5_std, model6_std,
table.placement = "H", df = FALSE,
title = "Federal Reserve minutes, NYT articles and SPF forecast dispersion",
label = "tab:topic_spf_results")
summary(model2_std)
model2_std <- felm(dispersion_std ~ plm::lag(fed_std, 0:1) + plm::lag(news_std, 0:1) + plm::lag(dispersion_std, 1:3) | series + period, data = total.panel)
summary(model2_std)
model3 <- felm(fed ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model3)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model3_std)
model4 <- felm(fed ~ plm::lag(dispersion, 0:1)  + plm::lag(fed, 1:3) | series + quarter, data = total.panel)
summary(model4)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, 0:1) + plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
model3 <- felm(fed ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model3)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model3_std)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, 0:1) + plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, 0:1) +  plm::lag(news_std, 0:1)
plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, 0:1) +  plm::lag(news_std, 0:1) +
plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
?stagazer
?stargazer
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model <- felm(dispersion ~ plm::lag(fed, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1) | series, data = total.panel)
summary(model)
model2 <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1:3) | series + quarter, data = total.panel)
summary(model2)
model2 <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1:3) | series + period, data = total.panel)
summary(model2)
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model <- felm(dispersion ~ plm::lag(fed, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1) | series, data = total.panel)
summary(model)
model2 <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1:3) | series + quarter, data = total.panel)
summary(model2)
model2 <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1:3) | series + period, data = total.panel)
summary(model2)
model2_std <- felm(dispersion_std ~ plm::lag(fed_std, 0:1) + plm::lag(news_std, 0:1) + plm::lag(dispersion_std, 1:3) | series + period, data = total.panel)
summary(model2_std)
model3 <- felm(fed ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model3)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model3_std)
model <- felm(fed ~ plm::lag(dispersion, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(fed ~ plm::lag(dispersion, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(fed ~ plm::lag(dispersion, 0:1) + plm::lag(news, 0:1) + plm::lag(fed, 1) | series, data = total.panel)
summary(model)
model4 <- felm(fed ~ plm::lag(dispersion, 0:1)  + plm::lag(fed, 1:3) | series + quarter, data = total.panel)
summary(model4)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, 0:1) +  plm::lag(news_std, 0:1) +
plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
# NYT articles as dependent variable
model5 <- felm(news ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model5)
model5_std <- felm(news_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model5_std)
model <- felm(news ~ plm::lag(dispersion, -1:1) + plm::lag(fed, -1:1) | series, data = total.panel)
summary(model)
model <- felm(news ~ plm::lag(dispersion, 0:1) + plm::lag(fed, 0:1) | series, data = total.panel)
summary(model)
model <- felm(news ~ plm::lag(dispersion, 0:1) + plm::lag(fed, 0:1) + plm::lag(news, 1) | series, data = total.panel)
summary(model)
model6 <- felm(news ~ plm::lag(dispersion, -1:1) + plm::lag(news, 1:3) | series + quarter, data = total.panel)
summary(model6)
model6_std <- felm(news_std ~ plm::lag(dispersion_std, -1:1) + plm::lag(news_std, 1:3) | series + quarter, data = total.panel)
summary(model6_std)
stargazer(model1, model2, model3, model4, model5, model6,
table.placement = "H", df = FALSE,
title = "FOMC minutes, NYT articles and SPF forecast dispersion (unstandardised data)",
label = "tab:topic_spf_results_unstand")
stargazer(model1_std, model2_std, model3_std, model4_std, model5_std, model6_std,
table.placement = "H", df = FALSE,
title = "Federal Reserve minutes, NYT articles and SPF forecast dispersion",
label = "tab:topic_spf_results")
summary(model1_std)
summary(model2_std)
model3 <- felm(fed ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model3)
View(total.panel)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model3_std)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model3_std)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, 0:1) +  plm::lag(news_std, 0:1) +
plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, -1:1) +  plm::lag(news_std, -1:1) +
plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
####
# This file estimates panel regressions on the Fed minutes NYT articles combined/joint topics.
####
setwd("~/Documents/GitHub/CBC_spillovers")
rm(list = ls())
require(stringr)
require(tm)
require(slam)
require(topicmodels)
require(tidyverse)
require(tidytext)
require(wordcloud)
require(plm)
require(lfe)
require(stargazer)
require(readxl)
require(openxlsx)
require(lubridate)
require(zoo)
require(panelvar)
require(scales)
### Define the directories where raw data is stored and clean will be saved
raw_dir <- "~/Documents/DPhil/Raw_Data/"
clean_dir <- "~/Documents/DPhil/Clean_Data/"
export_dir <- "~/Documents/DPhil/central_bank_communication/figures/"
####
# This file combines SPF data with the NYT and Fed topics
####
setwd("~/Documents/GitHub/CBC_spillovers")
rm(list = ls())
require(stringr)
require(tm)
require(slam)
require(topicmodels)
require(tidyverse)
require(tidytext)
require(wordcloud)
require(plm)
require(lfe)
require(stargazer)
require(readxl)
require(openxlsx)
require(lubridate)
require(zoo)
### Define the directories where raw data is stored and clean will be saved
clean_dir <- "data/"
export_dir <- "figures/"
############################# Import the topic proportions #############################
# Import the weekly article data, averaged over articles
import_filename =  "data/articlemeans_jointtopics.csv"
articlelevel.means <- read.csv(import_filename, encoding = "utf-8", stringsAsFactors = FALSE)
View(articlelevel.means)
articlelevel.means1 <- articlelevel.means
import_filename =  "data/articlemeans_jointtopics.csv_long"
articlelevel.means <- read.csv(import_filename, encoding = "utf-8", stringsAsFactors = FALSE)
import_filename =  "data/articlemeans_jointtopics.csv_long"
import_filename =  "data/articlemeans_jointtopics_long.csv"
articlelevel.means <- read.csv(import_filename, encoding = "utf-8", stringsAsFactors = FALSE)
View(articlelevel.means)
total.panel <- read.csv("data/topics_forecasts_panel_long.csv", stringsAsFactors = FALSE)
total.panel <- read.csv("data/topics_forecasts_panel_long.csv", stringsAsFactors = FALSE)
test1 <- cor.test(total.df$NGDP_dispersion, total.df$CPI_topic_fed)
test1$estimate
test1 <- cor.test(total.df$CPI_topic_fed, total.df$NGDP_dispersion)
test1$estimate
cor.test(total.df$CPI_topic_news, total.df$NGDP_dispersion)
cor.test(total.df$NGDP_topic_fed, total.df$CPI_dispersion)
cor.test(total.df$NGDP_topic_news, total.df$CPI_dispersion)
cor.test(total.df$NGDP_topic_news, total.df$CPI_topic_news)
cor.test(total.df$CPROF_topic_fed, total.df$CPROF_dispersion)
cor.test(total.df$RCONSUM_topic_fed, total.df$RCONSUM_dispersion)
cor.test(total.df$HOUSING_topic_news, total.df$HOUSING_dispersion)
cor.test(total.df$INDPROD_topic_news, total.df$INDPROD_dispersion)
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
# SPF dispersion as depepndent variable
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model <- felm(dispersion ~ plm::lag(fed, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1) | series, data = total.panel)
summary(model)
model2 <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1:3) | series + quarter, data = total.panel)
summary(model2)
model2 <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1:3) | series + period, data = total.panel)
summary(model2)
model2_std <- felm(dispersion_std ~ plm::lag(fed_std, 0:1) + plm::lag(news_std, 0:1) + plm::lag(dispersion_std, 1:3) | series + period, data = total.panel)
summary(model2_std)
# Fed topics as dependent variable
model3 <- felm(fed ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model3)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model3_std)
model <- felm(fed ~ plm::lag(dispersion, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(fed ~ plm::lag(dispersion, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(fed ~ plm::lag(dispersion, 0:1) + plm::lag(news, 0:1) + plm::lag(fed, 1) | series, data = total.panel)
summary(model)
model4 <- felm(fed ~ plm::lag(dispersion, 0:1)  + plm::lag(fed, 1:3) | series + quarter, data = total.panel)
summary(model4)
model4_std <- felm(fed_std ~ plm::lag(dispersion_std, -1:1) +  plm::lag(news_std, -1:1) +
plm::lag(fed_std, 1:3) | series + quarter, data = total.panel)
summary(model4_std)
# NYT articles as dependent variable
model5 <- felm(news ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model5)
model5_std <- felm(news_std ~ plm::lag(dispersion_std, 0) | series, data = total.panel)
summary(model5_std)
model <- felm(news ~ plm::lag(dispersion, -1:1) + plm::lag(fed, -1:1) | series, data = total.panel)
summary(model)
model <- felm(news ~ plm::lag(dispersion, 0:1) + plm::lag(fed, 0:1) | series, data = total.panel)
summary(model)
model <- felm(news ~ plm::lag(dispersion, 0:1) + plm::lag(fed, 0:1) + plm::lag(news, 1) | series, data = total.panel)
summary(model)
model6 <- felm(news ~ plm::lag(dispersion, -1:1) + plm::lag(news, 1:3) | series + quarter, data = total.panel)
summary(model6)
model6_std <- felm(news_std ~ plm::lag(dispersion_std, -1:1) + plm::lag(news_std, 1:3) | series + quarter, data = total.panel)
summary(model6_std)
# Table
stargazer(model1, model2, model3, model4, model5, model6,
table.placement = "H", df = FALSE,
title = "FOMC minutes, NYT articles and SPF forecast dispersion (unstandardised data)",
label = "tab:topic_spf_results_unstand")
stargazer(model1_std, model2_std, model3_std, model4_std, model5_std, model6_std,
table.placement = "H", df = FALSE,
title = "Federal Reserve minutes, NYT articles and SPF forecast dispersion",
label = "tab:topic_spf_results")
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model <- felm(dispersion ~ plm::lag(fed, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) | series, data = total.panel)
summary(model)
model <- felm(dispersion ~ plm::lag(fed, 0:1) + plm::lag(news, 0:1) + plm::lag(dispersion, 1) | series, data = total.panel)
summary(model)
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model <- felm(dispersion ~ plm::lag(fed, -1:1) + plm::lag(news, -1:1) | series, data = total.panel)
summary(model)
View(total.panel)
total.panel <- read.csv("data/topics_forecasts_panel_long.csv", stringsAsFactors = FALSE)
### Convert to
total.panel$quarter <- as.Date(total.panel$quarter)
total.panel$period <- as.numeric(as.factor(total.panel$quarter))
total.panel <- pdata.frame(data.frame(total.panel), index = c("series", "period"))
model1 <- felm(dispersion ~ plm::lag(fed, 0) + plm::lag(news, 0) | series, data = total.panel)
summary(model1)
model1_std <- felm(dispersion_std ~ plm::lag(fed_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model1_std)
model3 <- felm(fed ~ plm::lag(dispersion, 0) | series, data = total.panel)
summary(model3)
model3_std <- felm(fed_std ~ plm::lag(dispersion_std, 0) + plm::lag(news_std, 0) | series, data = total.panel)
summary(model3_std)
